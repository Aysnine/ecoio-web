<template lang="pug">
  div
    info-blocks(:data='computedInfos')
    ghost-time-line.p-10.pt-20(:data='upline', setTitle='数据上传活跃量', :labelMap='{value: "数据传总量"}', height='520px')
</template>

<script>
import { mapGetters } from 'vuex'
import InfoBlocks from './components/InfoBlocks'
import GhostTimeLine from '@/components/extend/chart/GhostTimeLine'

export default {
  data() {
    return {
      infos: [
        {
          icon: 'device',
          label: '设备总数 / 在线 / 离线',
          sep: '/',
          data: [0, 0, 0]
        },
        { icon: 'data', label: '数据上传总量', data: 0 },
        {
          icon: 'user',
          label: '用户总数 / 在线 / 离线',
          data: [0, 0, 0],
          role: 'admin'
        }
      ],
      upline: [
        { value: 1078, time: '2014-01-13 03:40:01.305287' },
        { value: 1088, time: '2014-01-13 03:40:17.005287' },
        { value: 1093, time: '2014-01-13 03:40:32.705287' },
        { value: 1017, time: '2014-01-13 03:40:48.405287' },
        { value: 1056, time: '2014-01-13 03:41:04.105287' },
        { value: 1019, time: '2014-01-13 03:41:19.805287' },
        { value: 1011, time: '2014-01-13 03:41:35.505287' },
        { value: 1055, time: '2014-01-13 03:41:51.205287' },
        { value: 1087, time: '2014-01-13 03:42:06.905287' },
        { value: 1099, time: '2014-01-13 03:42:22.605287' },
        { value: 1053, time: '2014-01-13 03:42:38.305287' },
        { value: 1099, time: '2014-01-13 03:42:54.005287' },
        { value: 1036, time: '2014-01-13 03:43:09.705287' },
        { value: 1035, time: '2014-01-13 03:43:25.405287' },
        { value: 1076, time: '2014-01-13 03:43:41.105287' },
        { value: 1053, time: '2014-01-13 03:43:56.805287' },
        { value: 1016, time: '2014-01-13 03:44:12.505287' },
        { value: 1021, time: '2014-01-13 03:44:28.205287' },
        { value: 1038, time: '2014-01-13 03:44:43.905287' },
        { value: 1095, time: '2014-01-13 03:44:59.605287' },
        { value: 1028, time: '2014-01-13 03:45:15.305287' },
        { value: 1015, time: '2014-01-13 03:45:31.005287' },
        { value: 1079, time: '2014-01-13 03:45:46.705287' },
        { value: 1026, time: '2014-01-13 03:46:02.405287' },
        { value: 1085, time: '2014-01-13 03:46:18.105287' },
        { value: 1012, time: '2014-01-13 03:46:33.805287' },
        { value: 1015, time: '2014-01-13 03:46:49.505287' },
        { value: 1064, time: '2014-01-13 03:47:05.205287' },
        { value: 1091, time: '2014-01-13 03:47:20.905287' },
        { value: 1097, time: '2014-01-13 03:47:36.605287' },
        { value: 1035, time: '2014-01-13 03:47:52.305287' },
        { value: 1021, time: '2014-01-13 03:48:08.005287' },
        { value: 1091, time: '2014-01-13 03:48:23.705287' },
        { value: 1061, time: '2014-01-13 03:48:39.405287' },
        { value: 1070, time: '2014-01-13 03:48:55.105287' },
        { value: 1023, time: '2014-01-13 03:49:10.805287' },
        { value: 1069, time: '2014-01-13 03:49:26.505287' },
        { value: 1037, time: '2014-01-13 03:49:42.205287' },
        { value: 1017, time: '2014-01-13 03:49:57.905287' },
        { value: 1016, time: '2014-01-13 03:50:13.605287' },
        { value: 1088, time: '2014-01-13 03:50:29.305287' },
        { value: 1029, time: '2014-01-13 03:50:45.005287' },
        { value: 1018, time: '2014-01-13 03:51:00.705287' },
        { value: 1056, time: '2014-01-13 03:51:16.405287' },
        { value: 1093, time: '2014-01-13 03:51:32.105287' },
        { value: 1076, time: '2014-01-13 03:51:47.805287' },
        { value: 1013, time: '2014-01-13 03:52:03.505287' },
        { value: 1080, time: '2014-01-13 03:52:19.205287' },
        { value: 1039, time: '2014-01-13 03:52:34.905287' },
        { value: 1022, time: '2014-01-13 03:52:50.605287' },
        { value: 1096, time: '2014-01-13 03:53:06.305287' },
        { value: 1016, time: '2014-01-13 03:53:22.005287' },
        { value: 1082, time: '2014-01-13 03:53:37.705287' },
        { value: 1015, time: '2014-01-13 03:53:53.405287' },
        { value: 1076, time: '2014-01-13 03:54:09.105287' },
        { value: 1080, time: '2014-01-13 03:54:24.805287' },
        { value: 1048, time: '2014-01-13 03:54:40.505287' },
        { value: 1098, time: '2014-01-13 03:54:56.205287' },
        { value: 1012, time: '2014-01-13 03:55:11.905287' },
        { value: 1076, time: '2014-01-13 03:55:27.605287' },
        { value: 1026, time: '2014-01-13 03:55:43.305287' },
        { value: 1024, time: '2014-01-13 03:55:59.005287' },
        { value: 1048, time: '2014-01-13 03:56:14.705287' },
        { value: 1093, time: '2014-01-13 03:56:30.405287' },
        { value: 1044, time: '2014-01-13 03:56:46.105287' },
        { value: 1096, time: '2014-01-13 03:57:01.805287' },
        { value: 1070, time: '2014-01-13 03:57:17.505287' },
        { value: 1036, time: '2014-01-13 03:57:33.205287' },
        { value: 1045, time: '2014-01-13 03:57:48.905287' },
        { value: 1040, time: '2014-01-13 03:58:04.605287' },
        { value: 1051, time: '2014-01-13 03:58:20.305287' }
      ]
    }
  },
  computed: {
    ...mapGetters(['userRole']),
    computedInfos() {
      return this.infos.filter(({ role }) => !role || role === this.userRole)
    }
  },
  components: {
    InfoBlocks,
    GhostTimeLine
  }
}
</script>
